{"version":3,"sources":["uni-app:///main.js",null,"webpack:///F:/Uniapp/xl-6.0.0/pages/index/index.vue?0ea4","webpack:///F:/Uniapp/xl-6.0.0/pages/index/index.vue?e8c9","webpack:///F:/Uniapp/xl-6.0.0/pages/index/index.vue?dbe6","uni-app:///pages/index/index.vue","webpack:///F:/Uniapp/xl-6.0.0/pages/index/index.vue?5ccf","webpack:///F:/Uniapp/xl-6.0.0/pages/index/index.vue?102a"],"names":["createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.HMmessages = _vm.$refs.HMmessages\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<form @submit=\"formSubmit\">\r\n\t\t\t<!-- 获取下单时间 -->\r\n\t\t\t<picker-view :value=\"createTime\"></picker-view>\r\n\r\n\t\t\t<!-- name & phone & address -->\r\n\t\t\t<view class=\"border-secondary shadow m-2\">\r\n\t\t\t\t<view class=\"title  text-green ml-2\">姓名：</view>\r\n\t\t\t\t<input class=\"uni-input\" focus placeholder=\"输入您的姓名\" type=\"text\" name=\"name\" v-model=\"name\" \r\n\t\t\t\t @change=\"updateName\"/>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"border-secondary shadow m-2\">\r\n\t\t\t\t<view class=\"title  text-green ml-2\">手机号码：</view>\r\n\t\t\t\t<input class=\"uni-input\" focus placeholder=\"输入您的联系方式\" name=\"phone\" maxlength=\"11\" type=\"number\"\r\n\t\t\t\t\tv-model=\"phone\"  @change=\"updatePhone\"/>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"border-secondary shadow m-2\">\r\n\t\t\t\t<view class=\"title  text-green ml-2\">收货地址：</view>\r\n\t\t\t\t<input class=\"uni-input\" focus placeholder=\"输入您的地址\" name=\"address\" type=\"text\" v-model=\"address\" \r\n\t\t\t\t@change=\"updateAddress\"/>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 取货时间和日期 -->\r\n\t\t\t<view class=\" border-secondary shadow m-2\">\r\n\t\t\t\t<view name=\"time\">\r\n\t\t\t\t\t<view class=\"d-flex flex-row j-sb a-cente \">\r\n\t\t\t\t\t\t<view class=\"uni-list-cell-left title  text-green\">取货时间：</view>\r\n\t\t\t\t\t\t<view class=\"uni-list-cell-db\">\r\n\t\t\t\t\t\t\t<picker name=\"time\" mode=\"time\" id=\"time\" :value=\"time\" start=\"09:00\" end=\"19:00\"\r\n\t\t\t\t\t\t\t\t@change=\"bindTimeChange\">\r\n\t\t\t\t\t\t\t\t<view class=\"uni-input\">{{time}}</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"font-sm text-secondary text-center border-top mx-a\" style=\"width: 90%;\">\r\n\t\t\t\t\t\t注：选择 09:01 ~ 21:01 之间的时间, 不在区间内不能选中\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view name=\"data\">\r\n\t\t\t\t\t<view class=\"d-flex flex-row j-sb a-cente \">\r\n\t\t\t\t\t\t<view class=\"uni-list-cell-left title  text-green\"> 取货日期： </view>\r\n\t\t\t\t\t\t<view class=\"uni-list-cell-db\">\r\n\t\t\t\t\t\t\t<picker mode=\"date\" id=\"date\" :value=\"date\" :start=\"startDate\" :end=\"endDate\"\r\n\t\t\t\t\t\t\t\t@change=\"bindDateChange\" name=\"date\">\r\n\t\t\t\t\t\t\t\t<view class=\"uni-input\">{{date}}</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"font-sm text-secondary text-center border-top mx-a\" style=\"width: 90%;\">\r\n\t\t\t\t\t\t注：为了更好的提供高质量的点心，需要提前2天预定\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 商品选择 -->\r\n\t\t\t<view class=\"uni-form-item uni-column  border-secondary shadow m-2 mr-4 \">\r\n\t\t\t\t<view class=\"title  text-green\">选择商品：</view>\r\n\t\t\t\t<view class=\"d-flex flex-row flex-nowrap j-sb mx-2 \" v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"size text-secondary\" style=\"width: 20%;\">{{item.title}}</view>\r\n\t\t\t\t\t<view class=\"text-center size text-secondary\">￥{{item.price}}</view>\r\n\t\t\t\t\t<uniNumberBox class=\"float-right mb-1 \" :value=\"item.number\" :min=\"item.minnum\" :max=\"item.maxnum\"\r\n\t\t\t\t\t\t@change=\"chengeNumber($event,item,index)\"></uniNumberBox>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 合计价格 -->\r\n\t\t\t<view class=\"d-flex flex-row j-sb a-cente  border-secondary \">\r\n\t\t\t\t<view class=\"uni-list-cell-left title text-green ml-2\">\r\n\t\t\t\t\t合计：\r\n\t\t\t\t</view>\r\n\t\t\t\t<picker :value=\"totalPrice\" name=\"totalPrice\" @change=\"updateTotalPrice\">\r\n\t\t\t\t\t<view class=\" text-danger mr-2\">￥{{totalPrice}}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 提交按钮 -->\r\n\t\t\t<view class=\"uni-btn-v mx-3\">\r\n\t\t\t\t<button style=\"background-color: #31E749;color: white;\" form-type=\"submit\">提交</button>\r\n\t\t\t</view>\r\n\t\t</form>\r\n\r\n\t\t<!-- 提示组件 -->\r\n\t\t<HMmessages ref=\"HMmessages\" @complete=\"HMmessages = $refs.HMmessages\" @clickMessage=\"clickMessage\">\r\n\t\t</HMmessages>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tvar db = wx.cloud.database()\r\n\tvar user = db.collection('user')\r\n\t// 引入提示组件\r\n\timport HMmessages from \"../../components/HM-messages/HM-messages.vue\"\r\n\t// 商品计算组件\r\n\timport uniNumberBox from '../../components/uni-ui/uni-number-box/uni-number-box.vue'\r\n\t// vuex\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapGetters,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\t// 表单验证\r\n\timport {\r\n\t\terring\r\n\t} from '../../common/erring.js'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniNumberBox,\r\n\t\t\tHMmessages\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\t// 获取表单创建时间\r\n\t\t\tconst date = new Date()\r\n\t\t\tconst timeData = date.toLocaleString();\r\n\t\t\t// 时间和日期\r\n\t\t\tconst currentDate = this.getDate({\r\n\t\t\t\tformat: true\r\n\t\t\t})\r\n\t\t\treturn {\r\n\t\t\t\t// 表单value\r\n\t\t\t\tname: '',\r\n\t\t\t\tphone: '',\r\n\t\t\t\taddress: '',\r\n\t\t\t\tdate: currentDate,\r\n\t\t\t\ttime: '12:01',\r\n\t\t\t\tstatus: false,\r\n\t\t\t\t// 表单创建时间\r\n\t\t\t\ttimeData,\r\n\t\t\t\tcreateTime: timeData,\r\n\t\t\t\t//容器\r\n\t\t\t\torderList:[],\r\n\t\t\t\t// 号码\r\n\t\t\t\tuserId:0,\r\n\t\t\t\torderNumber:1868686800,\r\n\t\t\t\t// ...\r\n\t\t\t\tfocus: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tlist: state => state.order.foodList,\r\n\t\t\t}),\r\n\t\t\t...mapGetters([\r\n\t\t\t\t'totalPrice',\r\n\t\t\t\t'judge'\r\n\t\t\t]),\r\n\t\t\t// 更新vuex\r\n\t\t\tupdateTotalPrice() {\r\n\t\t\t\tthis.$store.commit('updateTotalPrice', this.totalPrice)\r\n\t\t\t},\r\n\r\n\t\t\t// 时间和日期\r\n\t\t\tstartDate() {\r\n\t\t\t\treturn this.getDate('start.setTime(start.getTime() + 3600 * 1000 * 24)');\r\n\t\t\t},\r\n\t\t\tendDate() {\r\n\t\t\t\treturn this.getDate('end');\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 判断用户是否登录\r\n\t\tonShow() {\r\n\t\t\t//请求数据库查看用户是否登录\r\n\t\t\tthis.ifUser()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//commit\r\n\t\t\tupdateName(e) {\r\n\t\t\t\tthis.$store.commit('updateName', e.target.value)\r\n\t\t\t},\r\n\t\t\tupdatePhone(e) {\r\n\t\t\t\tthis.$store.commit('updatePhone', e.target.value)\r\n\t\t\t},\r\n\t\t\tupdateAddress(e) {\r\n\t\t\t\tthis.$store.commit('updateAddress', e.target.value)\r\n\t\t\t},\r\n\t\t\t// 时间和日期\r\n\t\t\tbindDateChange: function(e) {\r\n\t\t\t\tthis.date = e.target.value\r\n\t\t\t},\r\n\t\t\tbindTimeChange: function(e) {\r\n\t\t\t\tthis.time = e.target.value\r\n\t\t\t},\r\n\t\t\tgetDate(type) {\r\n\t\t\t\tconst date = new Date(new Date().getTime() + 86400000 * 2);\r\n\t\t\t\tlet year = date.getFullYear();\r\n\t\t\t\tlet month = date.getMonth() + 1;\r\n\t\t\t\tlet day = date.getDate();\r\n\r\n\t\t\t\tif (type === 'start') {\r\n\t\t\t\t\tyear = year - 60;\r\n\t\t\t\t} else if (type === 'end') {\r\n\t\t\t\t\tyear = year + 2;\r\n\t\t\t\t}\r\n\t\t\t\tmonth = month > 9 ? month : '0' + month;;\r\n\t\t\t\tday = day > 9 ? day : '0' + day;\r\n\t\t\t\treturn `${year}-${month}-${day}`;\r\n\t\t\t},\r\n\t\t\t// 合计\r\n\t\t\tchengeNumber(e, item, index) {\r\n\t\t\t\titem.number = e\r\n\t\t\t\t// console.log(item.number)\r\n\t\t\t\treturn item.number\r\n\t\t\t},\r\n\t\t\t// 提示框UI\r\n\t\t\ttips(tip, icon) {\r\n\t\t\t\tthis.HMmessages.show(tip, {\r\n\t\t\t\t\ticon: icon,\r\n\t\t\t\t\ticonColor: \"#ffffff\",\r\n\t\t\t\t\tfontColor: \"#ffffff\",\r\n\t\t\t\t\tbackground: \"rgba(102, 0, 51,.8)\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 跳转到订单确认页\r\n\t\t\torderConfirm() {\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '../orderConfirm/orderConfirm',\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//请求数据库查看用户是否登录\r\n\t\t\tifUser() {\r\n\t\t\t\tuser.get()\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.data.length === 0) {\r\n\t\t\t\t\t\t\t//没登录\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '点击登录',\r\n\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\turl: '../setting/setting'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.wxlogin = false\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.wxlogin = true\r\n\t\t\t\t\t\t\tthis.userInfoList = res.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t// form\r\n\t\t\tformSubmit(e) {\t\t\r\n\t\t\t\tthis.userId += 1\r\n\t\t\t\tthis.orderNumber += this.userId\r\n\t\t\t\t\r\n\t\t\t\t// 表单验证\r\n\t\t\t\terring(this.name, this.phone, this.address, this.totalPrice)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res == 'SUCCESS') {\r\n\t\t\t\t\t\t\tthis.orderList = e.detail.value\r\n\t\t\t\t\t\t\tlet orderNumber = this.orderNumber\r\n\t\t\t\t\t\t\tlet userId = this.userId\r\n\t\t\t\t\t\t\tlet status = this.status\r\n\t\t\t\t\t\t\tlet createTime = this.createTime\r\n\t\t\t\t\t\t\tlet foodList = this.list\r\n\t\t\t\t\t\t\tlet orderList = this.orderList\r\n\t\t\t\t\t\t\tconsole.log(foodList)\r\n\t\t\t\t\t\t\torderList = {\r\n\t\t\t\t\t\t\t\t...orderList,\r\n\t\t\t\t\t\t\t\tfoodList,\r\n\t\t\t\t\t\t\t\tcreateTime,\r\n\t\t\t\t\t\t\t\tstatus,\r\n\t\t\t\t\t\t\t\tuserId,\r\n\t\t\t\t\t\t\t\torderNumber\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet db = wx.cloud.database()\r\n\t\t\t\t\t\t\tlet users = db.collection('order')\r\n\t\t\t\t\t\t\tusers.add({\r\n\t\t\t\t\t\t\t\t\tdata: orderList\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '正在下单',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.orderConfirm()\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '下单失败'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet icon = 'danger'\r\n\t\t\t\t\t\t\tthis.tips(res, icon)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.text-area {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 36rpx;\r\n\t}\r\n</style>\n","import mod from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css&\"; export default mod; export * from \"-!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!H:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1622433773025\n      var cssReload = require(\"H:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}